<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Список пользователей</title>
    <link rel="stylesheet" href="registration.css"> <!-- Подключение вашего стиля -->
    <!-- Подключение Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.19.1/firebase-firestore.js"></script>
</head>

<body>
    <div class="registration-container">
        <h1>Список пользователей</h1>
        <ul id="user-list"></ul> <!-- Здесь будет выводиться список пользователей -->
    </div>
    <script>
        // Импорт необходимых функций Firebase SDK
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js';
        import { getFirestore, collection, getDocs } from 'https://www.gstatic.com/firebasejs/9.19.1/firebase-firestore.js';

        // Вставьте сюда вашу конфигурацию Firebase

        const firebaseConfig = {
            apiKey: "AIzaSyCVxiskY4MROEj3A1Nsy_zJzCr4L0fITWA",
            authDomain: "gannitto-world-7dbe0.firebaseapp.com",
            projectId: "gannitto-world-7dbe0",
            storageBucket: "gannitto-world-7dbe0.appspot.com",
            messagingSenderId: "231799284383",
            appId: "1:231799284383:web:17f6eda6dcc4f6329778aa",
            measurementId: "G-HQ3W9DYEQ8"
        };

        // Инициализация Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Получаем список пользователей из Firestore
        const userList = document.getElementById('user-list');

        async function loadUsers() {
            try {
                const querySnapshot = await getDocs(collection(db, 'users'));
                querySnapshot.forEach((doc) => {
                    // Создаем элемент списка для каждого пользователя
                    const li = document.createElement('li');
                    const userData = doc.data();
                    li.textContent = `Имя пользователя: ${userData.username}, Email: ${userData.email}`;
                    userList.appendChild(li);
                });
            } catch (error) {
                console.error("Ошибка при получении списка пользователей: ", error);
            }
        }

        // Загружаем список пользователей
        loadUsers();

    </script>
</body>
</html>
